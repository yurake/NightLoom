# UI テーマ実装計画

## 目的
FR-026 に基づき、シナリオテーマに応じて UI を切り替える仕組みとタスクを明確化する。

## 成果物
- テーマトークン定義 (`themeId` ごとの配色・タイポグラフィ・アセット)
- SPA 側テーマスイッチャー実装
- ログ/モニタリング連携 (`ui_theme_applied`)

## 実装タスク
1. デザインアセット準備
   - `serene`, `adventure`, `focus`, `fallback` の配色・背景アセット
   - Figma 共有とエクスポートリスト作成
2. テーマトークン管理
   - `assets/themes/<themeId>/tokens.json` を定義
   - CSS カスタムプロパティと Tailwind 連携設定
3. フロントエンド実装
   - `ThemeProvider` を拡張し、`themeId` に応じたトークン適用
   - シーンカード・結果画面チャート・CTA ボタンをテーマ化
4. ログ連携
   - `ui_theme_applied` イベントを送信する middleware 実装
   - fallback 時の `fallbackReason` 記録

## テスト
- e2e: テーマ切替時のスタイル反映
- スナップショット: 主要コンポーネントのテーマ差分
- パフォーマンス: 初回ロードでのアセット遅延読み込み確認

## スケジュールメモ
- デザイン確定: 1 日
- 実装: 2 日
- QA & 計測設定: 1 日

## 依存/前提
- シナリオ生成から `themeId` が確実に返ること
- アセットの著作権クリアランス

## TODO
- GitHub Issue: UI テーマ実装 (#TBD)
- デザインレビュー: 次回デザイン定例で実施
